<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta content="IT-it" http-equiv="Content-Language">

	<title>Airbnb listings venice</title>
	<meta name="author" content="Guenter Richter" />
	<meta name="description" content="ixmaps iteractive map to explore airbnb listigs in venice,italy" />
	<meta name="keywords" content="ixmaps,airbnb,inside,listings,map,char,interactice,SVG" />
	<meta name="Resource-type" content="Document" />

	<!-- BOOTSTRAP CORE STYLE CSS -->
	<link href="assets/css/bootstrap.css" rel="stylesheet" />
	<!-- GOOGLE FONT -->
	<link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Raleway:400,300,700' rel='stylesheet' type='text/css'>


	<link href="assets/css/icomoon.css" rel="stylesheet" />
	<link href="assets/css/main.css" rel="stylesheet" />
	<link href="./inline_legend.css" rel="stylesheet" />

	<link rel="stylesheet" type="text/css" href="assets/css/jquery.fullPage.css" />
	<style type="text/css">
		.container {
			margin-left: 1em;
		}
		.title {
			margin-top: 3em;
			margin-bottom: 0em;
		}
		/* Overwriting fullPage.js tooltip color
		* --------------------------------------- */

		#fp-nav ul li .fp-tooltip {
			color: #0088dd;
			border: solid #0088dd 1px;
			border-radius: 1em;
			padding: 0 1em;
			background: white;
		}

		#fp-nav span,
		.fp-slidesNav span {
			border-color: #AAA;
		}

		#fp-nav li .active span,
		.fp-slidesNav .active span {
			background: #AAA;
		}

		.shareIcon {
			font-size: 32px;
		}

		.active a {
			color: inherit;
		}

		body {
			-webkit-user-select: none;
			/* Chrome all / Safari all */
			-moz-user-select: none;
			/* Firefox all *
			-ms-user-select: none;
			/* IE 10+ */
			user-select: none;
			/* Likely future */
		}
		
		h3 {
			margin-right: 2em;
		}
		
		p {
			font-family: Lato,Helvetica;
			font-size: 1em;
			font-weight: normal;
		}
		
		p.note {
			padding-left:1em;
			border-left:dotted 3px;
			font-style:italic;
		}
	</style>

	<!--[if IE]>
		<script type="text/javascript">
			 var console = { log: function() {} };
		</script>
	<![endif]-->

</head>

<body style="background:none">

	<div id="fullpage" style="margin-top:0px;font-weight:500;display:none">

		<div class="section">

			<!-- incidenti 2013 - 2022 -->

			<div class="slide container" style="color:#888888">
				<div class="intro down">
				  	<h1 style="font-size:3em;font-weight:100;margin-top:1em;margin-bottom:0.2em">BOLZANO INCIDENTI</h1>
			  	  	<h2 style="font-size:1.2em;font-weight:400;margin-bottom:0em">Visualizzazioni
					del dataset sui incidenti stradali dal 2013 al 2022<br> rilasciato dal <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/ITA_Bolzano_COA.svg/400px-ITA_Bolzano_COA.svg.png" style="display:inline;height:24px"> Comune di Bolzano <a href="https://www.istat.it/it/archivio/273725" target="_blank">qui</a></h2>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_Values.json","keepview");' style='display:none'>dummy</a><br>
					</p>
					<h3>I. Incidenti dal 2013 - 2022</h3>
					<p>
						Incidenti aggregati per una griglia di 10 pixel dello schermo.</p> 
					<p>
						L'aggregazione dipende dallo zoom della mappa essendo fissato a 10 pixel dello schermo.</p>
					
					<p>
						Si prega di <b>scrollare giù</b> per le altre mappe.
					</p>	
					
					
				</div>
			</div>

		</div>

		<div class="section">

			<!-- incidenti 2019 - 2022 -->

			<div class="slide container" style="color:#888888">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2013 - 2022</h3>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_Values_2019_2022.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
					<h3>II. Incidenti <b>dal 2019 in poi</b></h3><br>
					<p>
						Dal 2019 in poi i <b>dati</b> sul singolo incidente sono sono molto più <b>ricchi </b> e contengono informazioni su feriti e illesi e anche sulla natura dell'incidente.</p>
					<p class="note">
						Per questo motivo questa e le seguente mappe si limitano al periodo dal 2019 al 2022.</p>
					<p>
						La mappa mostra gli incidenti aggregati per una griglia di 10 px dello schermo, come nella mappa precedente, ma limitato ale periodo dal 2019 al 2022.</p>
										
				</div>
			</div>

		</div>

		<div class="section">

			<!-- esiti -->

			<div class="slide container" style="color:#008800">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2019 - 2022</h3>
					<br>
					<h3><b>III. Esito per le persone coinvolte</b></h3><br>
					<p>
						<a class="theme button legend" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_esiti.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
					 
					
				</div>
			</div>

		</div>

		<div class="section">

			<!-- esito pedoni -->

			<div class="slide container" style="color:#ffffff">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2019 - 2022</h3>
					<h3><b>VI. Esito per incidenti con investimeni di pedone</b></h3><br>
					<p>Esito per solo incidenti di natura 'Investimento di pedone'.</p>
					<a class="theme button legend" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_esiti_pedoni.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- indice di pericolosità -->

			<div class="slide container" style="color:#ffffff">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2019 - 2022</h3>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_Index_Pericolo.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
					<h3><b>IV. Indice di pericolosità</b></h3><br>
					<p>Indice sintetico di pericolosità calcolata dal numero di incidenti è gravità dell'esito.</p>
					<p class="note">Indice di pericolosità = somma(</br>(morti * 50) + </br>(feriti * 10) + </br>illesi * 1) </br>per posizione di aggregazione normalizzato tra 0 e 1. </p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- indice di pericolosità pedoni -->

			<div class="slide container" style="color:#ffffff">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2019 - 2022</h3>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_Index_Pericolo_Pedoni.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
					<h3><b>V. Indice di pericolosità - Pedoni</b></h3><br>
					<p>Indice sintetico di pericolosità ma <b>solo per incidenti con coinvolgimento di pedoni</b>.</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- natura dell'incidente -->

			<div class="slide container" style="color:#444444">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2019 - 2022</h3>
					<h3><b>VII. Natura del incidente</b></h3><br>
					<p>Incidenti colorati per 'natura' dell'incidente ed aggregati per griglia di 10 pixel dello schermo.</p>
					  <button onclick="mymap.changeThemeStyle(null,'filter:WHERE year BETWEEN 2019 AND 2022','set')">tutti incidenti</button>	
					  <button onclick="mymap.changeThemeStyle(null,'filter:WHERE year BETWEEN 2019 AND 2022 AND FERITI > 0','set')">solo incidenti con feriti</button>	
					  <br>
					  <button onclick="mymap.changeThemeStyle(null,'filter:WHERE year BETWEEN 2019 AND 2019','set')">2019</button>	
					  <button onclick="mymap.changeThemeStyle(null,'filter:WHERE year BETWEEN 2020 AND 2020','set')">2020</button>	
					  <button onclick="mymap.changeThemeStyle(null,'filter:WHERE year BETWEEN 2021 AND 2021','set')">2021</button>	
					  <button onclick="mymap.changeThemeStyle(null,'filter:WHERE year BETWEEN 2022 AND 2022','set')">2022</button>	
					  <p>
						<a class="theme button legend" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_type_III.json","themeonly");' style='display:none'>dummy</a><br>
					</p>

				</div>
			</div>

		</div>

		<div class="section">

			<!-- natura dell'incidente -->

			<div class="slide container" style="color:#444444">
				<div class="intro up down">
					<h3 class="title">Bolzano - Incidenti 2019 - 2022</h3>
					<h3><b>VIII. Natura del incidente e feriti</b></h3><br>
					<p>Incidenti colorati per 'natura' simile e valutato per il numero di feriti.</p>
					  <p>
						<a class="theme button legend" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow_type_dyn.json","themeonly");' style='display:none'>dummy</a><br>
					</p>

				</div>
			</div>

		</div>

		<div class="section">

			<!-- anni pedoni -->

			<div class="slide container" style="color:#ffffff">
				<div class="intro up down">
					<h3 class="title"><b>Bolzano - Incidenti 2019 - 2022</b></h3>
					<h3>IX. Evoluzione dal 2019 al 2022 - Pedoni</h3><br>
					<p>Incidenti aggregati per anno e area geografica dinamica.</p>
					<p>L'area di aggregazione e una griglia rettangolare di 100 pixel dello schermo.<p>
					<p>Dopo ogni cambiamento dello zoom l'aggregazione viene rivalcolato.</p>
					<p>
						<a class="theme button legend" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_year_pedoni_plus.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- anni -->

			<div class="slide container" style="color:#ffffff">
				<div class="intro up down">
					<h3 class="title"><b>Bolzano - Incidenti 2019 - 2022</b></h3>
					<h3>X. Evoluzione dal 2019 al 2022</h3><br>
					<p>Incidenti aggregati per anno e area geografica dinamica.</p>
					<p>L'area di aggregazione e una griglia rettangolare di 100 pixel dello schermo.<p>
					<p>Dopo ogni cambiamento dello zoom l'aggregazione viene rivalcolato.</p>
					<p>
						<a class="theme button legend" href='javascript:mymap.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_year_plus_arrow.json","themeonly");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section  intro up" style="color:#666666">
			<div class="container" id="contact" name="contact">
				<div class="row">
					<div class="col-lg-8 blog-content">

						<h3 class="title">Attribuzioni</h3>
						<br>
						<p>Fonte dati: Città di Bolzano</p>
						<p>Link ai dati: dati recuperati più o meno da<a style="color:#0088dd" href="https://studio.foursquare.com/public/d7fbbd6d-5153-4a92-8ab9-cf1cc2831663?fbclid=IwAR1kOkDhmQyziBSloYJeKWVt8Ag8EvH2Ia1vCZvaKnSrSPV9JLFFZw0xGEg" target="_blank"> questa</a> mappa
						</p>

					</div>
				</div><!-- row -->

			</div><!-- container -->
		</div>

	</div>

	<div id="header" style="position: fixed;top:0;left:0px;width:90%;height:40px;">
		<div class="container" style="margin-top:11px">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2">
					<div class="header" aria-hidden="true">
						<div class="linkSocialContainer" style="float:left">
							<span class="linkContainer"></span>
							<span class="shareBtns" style="font-size:24px">
								<a href="javascript:ixmaps.popupShare()">
									<i class="shareIcon blackHover share_bitly icon-share" title="Condividi mappa" tabindex="-1"></i></a>
								<a href="javascript:__aboutDialog()">
									<i class="shareIcon blackHover share_bitly icon-info" title="Info" tabindex="-1" style="margin-left:0.2em"></i></a>
								<a href="javascript:ixmaps.loadStoryTool('./filter.html',{frame:true})" >
									<i class="shareIcon blackHover share_bitly icon-filter" title="Filtri" tabindex="-1" style="margin-left:0.2em" ></i></a>
								<a href="javascript:ixmaps.loadStoryTool('./layer.html')" >
									<i class="shareIcon blackHover share_bitly icon-map" title="Mappa di Fondo" tabindex="-1" style="margin-left:0.2em" ></i></a>
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- ==== MODAL DIALOG ==== -->
	<div id="modal-dialog-1" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="background:white;z-index:9999">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				...
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
	<div id="modal-dialog-2" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="background:white;z-index:9999">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				...
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="assets/plugins/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="assets/js/main.js"></script>
	<script type="text/javascript" src="assets/js/masonry.pkgd.min.js"></script>
	<script type="text/javascript" src="assets/js/imagesloaded.js"></script>
	<script type="text/javascript" src="assets/js/classie.js"></script>
	<script type="text/javascript" src="assets/js/AnimOnScroll.js"></script>

	<script type="text/javascript" src="assets/plugins/jquery.fullPage.min.js"></script>

	<script type="text/javascript">
		var mymap = null;
		// --------------------------------
		// get ixmaps API from parent 
		// --------------------------------

		var ixmaps = null;
		if (window.opener) {
			ixmaps = window.opener.ixmaps;
		} else
		if (parent) {
			ixmaps = parent.window.ixmaps;
		} else {
			alert("error: missing parent window for themes !");
		}

		ixmaps.initialized = false;

		// don't synchronise multiple map frames
		ixmaps.setSyncMultiMaps(false);

		var nLegendDiv = 0;
		var legendA = Array(0);
		ixmaps.setLegendDiv = function(n) {
			nLegendDiv = n;
		};

		ixmaps.setLoading = function() {
			ixmaps.showLoading("... caricando ...");
		};

		// define some helper for the sidebar menu

		ixmaps.moveSectionsDown = function(nr) {
			nr = nr || 1;
			for (var i = 0; i < nr; i++) {
				setTimeout("$.fn.fullpage.moveSectionDown();", i * 100);
			}
		};

		ixmaps.moveToSection = function(nr, slide) {
			ixmaps.fMoveToSection = true;
			$.fn.fullpage.silentMoveTo(nr, slide);
		};

		ixmaps.moveSlideRight = function(nr) {
			nr = nr || 1;
			for (var i = 0; i < nr; i++) {
				setTimeout("$.fn.fullpage.moveSlideRight();", i * 100);
			}
		};

		// --------------------------------
		// p a g e 
		// --------------------------------

		// enumerate sections, slides and theme
		// and create the right id's for fullpage slide handling
		// -----------------------------------------------------
		var section = 0;
		$(".section").each(function() {
			$(this).attr("id", "section" + (++section));
			var slide = 0;
			$(this).find(".slide").each(function() {
				$(this).attr("id", "section" + section + "slide" + (++slide));
				$(this).find(".theme").each(function() {
					$(this).attr("id", "theme_" + section + "" + slide);
				});
			});
		});

		// CUSTOM SCROLL SCRIPT FUNCTION FOR NAVBAR
		$(function() {
			$('.scrollclass a').bind('click', function(event) { //just pass scrollclass in design and start scrolling
				var $anchor = $(this);
				$('html, body').stop().animate({
					scrollTop: $($anchor.attr('href')).offset().top
				}, 1000, 'easeInOutQuad');
				event.preventDefault();
			});
		});
		//ADD REMOVE PADDING CLASS ON SCROLL
		$(window).scroll(function() {
			if ($(document).scrollTop() > 40) {
				$(".navbar-fixed-top").addClass("navbar-pad-original");
			} else {
				$(".navbar-fixed-top").removeClass("navbar-pad-original");
			}
		});

		//var html = '<a href="javascript:$.fn.fullpage.moveSectionDown();"><div class="row scrollclass fp-controlArrow fp-down" style="left:' + (window.innerWidth / 2 - 33) + 'px;text-align:center;margin-top:-0.7em;margin-bottom:1em;"></div></a>';
		//$('.down').append(html);

		//var html = '<a href="javascript:$.fn.fullpage.moveSectionUp();"><div class="row scrollclass fp-controlArrow fp-up" style="left:' + (window.innerWidth / 2 - 33) + 'px;text-align:center;margin-top:-2.2em;margin-bottom:3em;margin-left:1em"></div></a>';
		//$('.up').append(html);

		var html = '<div class="row scrollclass" style="position:absolute;top:' + (window.innerHeight - 100) + 'px;left:' + (window.innerWidth - 30) + 'px;text-align:center;"><a href="javascript:$.fn.fullpage.moveSectionDown();"><span class="icon icon-arrow-down tip" data-tip="next" style="font-size:36px;color:#dddddd;"></span></a></div>';
		$('.down').append(html);

		var html = '<div class="row scrollclass" style="position:absolute;top:' + (18) + 'px;left:' + (window.innerWidth - 30) + 'px;text-align:center;"><a href="javascript:$.fn.fullpage.moveSectionUp();"><span class="icon icon-arrow-up tip" data-tip="next" style="font-size:36px;color:#dddddd;"></span></a></div>';
		$('.up').append(html);


		$(document).ready(function() {

			var __section = null;
			var __slide = null;
			var __fMoveActive = false;

			__onChange = function() {
				if (!ixmaps.initialized) {
					setTimeout("__onChange()",100);
					return;
				}
				if (ixmaps.fMoveToSection) {
					ixmaps.fMoveToSection = false;
					return;
				}
				__doTheme("theme_" + __section + (__slide + 1));
			};
			$('#fullpage').fullpage({
				'scrollOverflow': true,
				'scrollOverflowOptions': {
					scrollbars: false
				},
				'verticalCentered': false,
				'css3': true,
				'sectionsColor': ['#FFFCFA', '#FFFCFA', '#a9bF48', '#a9bF68','#4E80CB' ,'#4E80CB', '#FFFCFA', '#FFFCFA', '#B14A4A', '#B14A4A'],
				'navigation': true,
				'navigationPosition': 'right', 
				'navigationTooltips': ['Incidenti', 'dal 2019 in poi', 'Esito', 'Esito - Pedoni', 'Indice di pericolosità', 'Indice di pericolosità - Pedoni', 'Natura dell\'incidente', 'Evoluzione - Pedoni' , 'Evoluzione'],

				'afterLoad': function(a, index, c, d) {
					__section = index;
					__slide = 0;
					$.fn.fullpage.silentMoveTo(index, __slide);
				},
				'afterSlideLoad': function(a, index, c, d) {
					__slide = d;
					__onChange();
				},

				'onLeave': function(index, nextIndex, direction) {}
			});
			$('#fullpage').fadeIn("slow");
		});

		__doThemeOldTheme = null;
		__doThemeTimeout = null;
		__doTheme = function(szName) {
			if (szName == __doThemeOldTheme) {
				return;
			}
			__doThemeOldTheme = szName;
			if (__doThemeTimeout) {
				clearTimeout(__doThemeTimeout);
			}
			__doThemeTimeout = setTimeout("__doThemeOnTimeout('" + szName + "')", 100);
		}
		__doThemeOnTimeout = function(szName) {
			$("#" + szName).click();
			eval($("#" + szName).attr("href"));
		}

		// ------------------------------
		// set resize handler
		// ------------------------------
		$(window).resize(function() {
			// refresh scrollspy !!!
			$('[data-spy="scroll"]').each(function() {
				var $spy = $(this).scrollspy('refresh')
			});
		});


		// --------------------------------------------------------------
		// define click extension to
		// check/highlight the theme button 
		// --------------------------------------------------------------

		// array to store the clicked objects for onRemoveTheme callback
		var clickA = new Array(0);

		// store the last clicked object for onNewTheme callback
		var lastClicked = null;
		$("a").click(function() {
			if (String($(this).attr("href")).match(/newtheme/i) || String($(this).attr("href")).match(/loadProject/i)) {
				lastClicked = $(this);
			}
		});

		// -----------------------------------
		// adapt legend background to map type
		// -----------------------------------

		/**
		 * set legend background on map type change
		 * @type void
		 */
		__changeCss = function(className, classValue) {

			var cssMainContainer = $('#css-modifier-container');
			if (cssMainContainer.length == 0) {
				var cssMainContainer = $('<style id="css-modifier-container"></style>');
				cssMainContainer.appendTo($('head'));
			}
			cssMainContainer.append(className + " {" + classValue + "}\n");
		};

		ixmaps.htmlgui_setMapTypeBG = function(szId) {

			$("#css-modifier-container").remove();

			if (szId.match(/dark/i) || szId.match(/black/i)) {
				__changeCss(".story-body", "background-color:rgba(25,25,25,0.3)");
				__changeCss(".inline-legend", "background-color:rgba(25,25,25,0.7)");
				__changeCss(".title", "background-color:rgba(25,25,25,0.7)");
			} else {
				__changeCss(".body-story", "background-color:rgba(255,255,255,0.1)");
				__changeCss(".inline-legend", "background-color:rgba(255,255,255,0.5)");
				__changeCss(".title", "background-color:rgba(255,255,255,0.5)");
			}
		};

		// -----------------------------------------------
		// load themes script
		// and initialize map if all loaded
		// -----------------------------------------------

		$.when(
			$.getScript("./index.js"),
			$.getScript("./inline_legend.js"),
			$.Deferred(function(deferred) {
				$(deferred.resolve);
			})
		).done(function() {

			// ------------------------------
			// initialize map
			// ------------------------------

			ixmaps.waitForMap(null, function(map) {

				ixmaps.initialized = true;

				map.setLocalString("... processing ...", "...")
				   .setLocalString("... creating theme ...", "...")
				   .setLocalString("cleaning up ...", "")
				   .setLocalString("loading data ...", "... caricando dati ...")
				   .setView([46.48846529197843,11.334328651428224],14);

				mymap = map;
				//map.loadProject("https://raw.githubusercontent.com/gjrichter/viz/master/Bolzano_Incidenti/projects/ixmaps_project_Bolzano_Incidenti_Glow.json");

			});

		}).fail(function() {
			alert("script loading " + arguments[2].toString());
		});

		/**
		 * open/close the about dialog 
		 * @param flag 'show' or 'hide'
		 * @type void
		 */
		__aboutDialog = function(flag){
			var about = "../../stories/Demografia_Previsioni/about.html";
			if ( ixmaps.loadedProject.metadata.about && ixmaps.loadedProject.metadata.about.length ){
				about = ixmaps.loadedProject.metadata.about;
			}
			ixmaps.embeddedApi.embeddedApi.openDialog(null,'about-dialog',about,'about this map','200,50',600,600);
		};
		
	</script>


</body>

</html>
